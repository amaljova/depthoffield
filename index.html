<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0A0A0A">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <title>DOF calculator</title>
</head>
<body>
    <!-- Install Prompt UI -->
    <div id="installContainer">
        <button id="installPrompt">INSTALL APP</button>
        <button id="closeInstall">Ã—</button>
    </div>

    <div class="app-container">
        <header class="header-nav">
            <h1 style="font-size: 1.2rem; font-weight: 900; letter-spacing: -1px;">DOF.IO</h1>
            <button class="theme-toggle" id="themeToggle">
                <span id="themeLabel">DARK MODE</span>
            </button>
        </header>

        <!-- Visualization Section -->
        <section class="viz-box">
            <div class="canvas-container">
                <div class="camera-anchor">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/>
                    </svg>
                    <span>Camera</span>
                </div>
                <canvas id="mainCanvas"></canvas>
                <div class="geometry">
                    <div id="dofZone" class="zone"></div>
                    <div id="focusLine" class="line"><div class="tag focus">FOCUS</div></div>
                    <div id="hyperLine" class="line hyper"><div class="tag hyper-tag">HYPERFOCAL</div></div>
                    <div id="nearTag" class="tag">-</div>
                    <div id="farTag" class="tag">-</div>
                </div>
            </div>
        </section>

        <!-- Control Sliders -->
        <div class="inputs-grid">
            <div class="card">
                <div class="card-head"><span class="label">Focal Length</span><span class="val"><span id="fValue">50</span>mm</span></div>
                <input type="range" id="focal" min="10" max="200" value="50">
            </div>
            <div class="card">
                <div class="card-head"><span class="label">Aperture</span><span class="val">f/<span id="aValue">2.8</span></span></div>
                <input type="range" id="aperture" min="1.0" max="32" value="2.8" step="0.1">
            </div>
            <div class="card">
                <div class="card-head"><span class="label">Distance</span><span class="val"><span id="dValue">3.0</span>m</span></div>
                <input type="range" id="distance" min="0.5" max="50" value="3.0" step="0.1">
            </div>
            <div class="card">
                <div class="card-head"><span class="label">Sensor</span><span class="val" id="sValue">0.030</span></div>
                <select id="sensor">
                    <option value="0.050">Medium Format</option>
                    <option value="0.030" selected>Full Frame (35mm)</option>
                    <option value="0.020">APS-C (1.5x)</option>
                    <option value="0.015">Micro Four Thirds</option>
                </select>
            </div>
        </div>

        <!-- Calculated Results -->
        <div class="results-grid" id="resGrid"></div>

        <!-- Educational Hints -->
        <div class="hints-section">
            <div class="hint-card">
                <div class="hint-illu">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="9"/>
                        <path d="M12 3a9 9 0 0 0-9 9M12 3v18M3 12h18M5.6 5.6l12.8 12.8M18.4 5.6L5.6 18.4"/>
                    </svg>
                </div>
                <h3>Aperture</h3>
                <p>Lower f-numbers create blur; higher numbers keep more sharp.</p>
            </div>
            <div class="hint-card">
                <div class="hint-illu">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="6" width="20" height="12" rx="2"/>
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M18 9l-2 2 2 2"/><path d="M6 9l2 2-2 2"/>
                    </svg>
                </div>
                <h3>Zoom</h3>
                <p>Longer focal lengths (telephoto) decrease the depth of field.</p>
            </div>
            <div class="hint-card">
                <div class="hint-illu">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/><path d="M17 12h5m-5 0l2-2m-2 2l2 2"/>
                    </svg>
                </div>
                <h3>Distance</h3>
                <p>The closer the subject, the shallower the depth of field.</p>
            </div>
            <div class="hint-card">
                <div class="hint-illu">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 3v18M3 12h18M12 3l9 9-9 9-9-9 9-9z"/>
                    </svg>
                </div>
                <h3>Hyperfocal</h3>
                <p>Focus at this point to make the horizon stay sharp.</p>
            </div>
        </div>

        <footer class="footer-header">
            <div class="logo-container">
                <svg width="32" height="32" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="50" fill="black" />
                    <circle cx="50" cy="50" r="42" fill="#10B981" />
                    <circle cx="50" cy="50" r="10" fill="black" />
                </svg>
            </div>
            <h1>DOF calculator</h1>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>